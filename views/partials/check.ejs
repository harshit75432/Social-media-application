<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="d-flex justify-content-between">
        <div>
            <img src="/images/person_pic.jpg" alt="" width="35px" height="35px" style="border-radius: 50%; margin-right: 8px;">
            <span  style="font-weight: 500; font-size: 14px;">Harshit Saxena</span>
        </div>
        <i class="bi bi-three-dots"></i>
    </div>
   


    <span id="paragraph" class="title mt-3">
        ${post.title}
     </span>
        <span id="${post.id}" class="see-more" style="border: none; font-weight: 600; cursor: pointer;">See more</span>


     
        
<div class="mt-3" style="border-bottom: 1px solid lightgray;"></div>                  
<div class="d-flex align-items-center">

       <span id="like-${ post.id }" class="btn w-100 d-flex align-items-center justify-content-center like-btn" data-like-status="${ post.likes.includes(session.user_id) }">
        <i id="remove-like-${post.id}" class="bi bi-hand-thumbs-up me-2 fs-5 " style="display:${post.likes.includes(session.user_id) ? 'none' : 'block'  };"></i>
        <i id="liked-${post.id}" class="bi bi-hand-thumbs-up-fill me-2 fs-5 text-primary" style="display:${post.likes.includes(session.user_id) ? 'block' : 'none'};"></i>Like</span>

  
    <span id="comment-btn-${post.id}" class="btn w-100 d-flex align-items-center justify-content-center "><i class="bi bi-chat me-2 fs-5"></i>Comment</span>
    <span class="btn w-100 d-flex align-items-center justify-content-center share-icon"><i class="bi bi-share-fill me-2 fs-5"></i>Share</span>
</div> 
<div style="border-bottom: 1px solid lightgray;"></div>
<div id="comment-section-${post.id}">
    <div id="comment-${j}" class="p-2 d-flex comment-div" >
        <img class="p-2" src="${commentUser.profile_pic ? commentUser.profile_pic : '/images/profile-pic.png'}" alt="" width="42px" height="42px" style="border-radius: 50%;">
          <div class="d-flex flex-column">   
          <div class="d-flex flex-column p-3" style="background-color: #edf2f4; border-radius: 15px;">
              <span style="font-weight: 500; font-size:13px;">${commentUser.first_name+" "+commentUser.last_name}</span>
              <span class="comment-text">${post.comments[j].comment}</span>
              
          </div>
              <div class="d-flex p-1 mx-2">
              <span id="comment-like-${j}" class="btn comment-like-btn" style="font-size: 10px; font-weight: bold;">Like</span>
              <span id="reply-${post.id}-${post.comments[j].id}" class="btn reply-btn" style="font-size: 10px; font-weight: bold;">Reply</span>
              </div>

              <div>
                <div id="comment-${j}" class="p-2  d-flex comment-div" >
                    <img class="p-2" src="${replyUser.profile_pic ? replyUser.profile_pic : '/images/profile-pic.png'}" alt="" width="42px" height="42px" style="border-radius: 50%;">
                    <div class="d-flex flex-column">   
                    <div class="d-flex flex-column p-3" style="background-color: #edf2f4; border-radius: 15px;">
                        <span style="font-weight: 500; font-size:13px;">${replyUser.first_name +" "+ replyUser.last_name}</span>
                        <span class="comment-text">${post.comments[j].replies[k].reply }</span>
                        
                    </div>
                    <div class="d-flex p-1 mx-2">
                        <span id="comment-like-${j}" class="btn comment-like-btn" style="font-size: 10px; font-weight: bold;">Like</span>
                        <span id="reply-${ post.id }-${ post.comments[j].replies[k].id }" class="btn reply-btn" style="font-size: 10px; font-weight: bold;">Reply</span>
                    </div>
                    </div>
                    <div class="mx-2">
                        <i class="bi bi-three-dots"></i>
                    </div>
                </div>
                
            <div id="comment-reply-${ post.id }-${ post.comments[j].replies[k].id }" style="display: none;">
        
                <div  class="d-flex" >
                    <img src="${ session.profile_pic ? session.profile_pic : '/images/profile-pic.png' }" width=25px height=25px alt="" style="border-radius: 50%; ">
                    <form action="" method="post">
                        <div class="p-3 d-flex align-items-center" style="background-color: #e9ecef; border-radius: 15px; margin-left: 10px;">
                            <input id="reply-text-${ post.id }-${ post.comments[j].replies[k].id }" class="form-control w-100 " type="text" style="background-color: #e9ecef; border: none;">
                            <i id="reply-btn-${ post.id }-${ post.comments[j].replies[k].id }" class="bi bi-send mx-2 btn reply-btn-comment"></i>
                        </div>
    
                    </form>
                </div>
            </div>
            <div id="comment-reply-${ post.id }-${ post.comments[j].id }" style="display:none;">
                                            
                <div  class="d-flex"  >
                    <img src="${ session.profile_pic ? session.profile_pic : '/images/profile-pic.png' }" width=25px height=25px alt="" style="border-radius: 50%; ">
                    <form action="" method="post">
                        <div class="p-3 d-flex align-items-center" style="background-color: #e9ecef; border-radius: 15px; margin-left: 10px;">
                            <input id="reply-text-${ post.id }-${ post.comments[j].id }" class="form-control w-100 " type="text" style="background-color: #e9ecef; border: none;">
                            <i id="reply-btn-${ post.id }-${ post.comments[j].id }" class="bi bi-send mx-2 btn reply-btn-comment"></i>
                        </div>
  
                    </form>
                </div>
            </div>
        </div>
    <div class="mx-2">
  
        <i class="bi bi-three-dots"></i>
    </div>
                </div>

            </div>  
            <form id="comment-form" action="" method="post">
            <div class="d-flex align-items-center mt-2">
                    <img src="<%= session.profile_pic ? session.profile_pic :  '/images/profile-pic.png' %>" alt="" width="25px" height="25px" style="border-radius: 50%; ">
                    <input id="comment-<%=posts[i].id%>" class="form-control mx-2 comment-text p-2" placeholder="Write a comment..."  type="text" style="border-radius: 20px; background-color: #e9ecef; height: 40px;">
                    <button id="comment-btn-<%=posts[i].id %>" class="btn comment-btn" type="submit"><i class="bi bi-send"></i></button>
                </div>
            </form>
                </div>

</body>
</html>